(()=>{"use strict";var e={formSelector:".form",inputSelector:".form__item",submitButtonSelector:".form__button-save",inactiveButtonClass:"form__button-save_inactive",inputErrorClass:"form__item_type_error",errorClass:"form__item-error_active"},t=function(t,n){n.validity.valid?function(t,n){var o=t.querySelector(".".concat(n.id,"-error"));n.classList.remove(e.inputErrorClass),o.classList.remove(e.errorClass),o.textContent=""}(t,n):function(t,n,o){var r=t.querySelector(".".concat(n.id,"-error"));n.classList.add(e.inputErrorClass),r.textContent=o,r.classList.add(e.errorClass)}(t,n,n.validationMessage)},n=function(t){t.classList.add(e.inactiveButtonClass),t.setAttribute("disabled","")},o=function(t){t.classList.remove(e.inactiveButtonClass),t.removeAttribute("disabled")},r=function(e,t,r){var c=e.querySelector(r.submitButtonSelector);!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?o(c):n(c)},c=document.querySelector(".profile__button_is_edit"),u=document.querySelector(".popup_type_edit"),i=document.querySelector(".profile__button_is_add"),l=document.querySelector(".popup_type_add"),s=document.querySelector(".popup_type_image"),a=(document.querySelector(".popup__close-icon"),document.querySelector(".form__button-save"),document.querySelector(".elements")),d=document.querySelector(".form__add"),m=document.querySelector(".form__edit"),p=(document.querySelector(".form"),document.querySelector(".form__item"),document.querySelector(".form__item_is_name")),_=document.querySelector(".form__item_is_job"),f=document.querySelector(".profile__title"),v=document.querySelector(".profile__subtitle"),y=document.querySelector(".element__image_type_popup"),S=document.querySelector(".element__text_type_popup"),q=document.querySelector(".form__item_is_title"),b=document.querySelector(".form__item_is_activity"),L=document.querySelector(".element-template").content;function k(e){e.classList.add("popup_opened"),document.addEventListener("keydown",x)}function E(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",x)}function x(e){"Escape"===e.key&&E(document.querySelector(".popup_opened"))}function C(){Array.from(document.querySelectorAll(".form")).forEach((function(e){e.querySelector(".form__button-save").setAttribute("disabled","")}))}function g(e,t,n){var o=function(e,t){var n=L.querySelector(".element-item").cloneNode(!0),o=n.querySelector(".element__text"),r=n.querySelector(".element__image"),c=n.querySelector(".element__button-like"),u=n.querySelector(".element__button-delete");return o.textContent=e,r.src=t,r.alt=e,c.addEventListener("click",(function(e){e.target.classList.toggle("element__button-like_active")})),u.addEventListener("click",(function(){u.closest(".element-item").remove()})),r.addEventListener("click",(function(n){n.preventDefault(),S.innerText=e,y.setAttribute("src",t),y.setAttribute("alt",t),k(s)})),n}(e,t);n.prepend(o)}document.querySelectorAll(".popup"),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){g(e.name,e.link,a)})),c.addEventListener("click",(function(){p.value=f.textContent,_.value=v.textContent,k(u)})),i.addEventListener("click",(function(){k(l)})),Array.from(document.querySelectorAll(".popup")).forEach((function(e){e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&E(e),t.target.classList.contains("popup__close-icon")&&E(e)}))})),m.addEventListener("submit",(function(e){e.preventDefault(),f.textContent=p.value,v.textContent=_.value,E(u),C()})),d.addEventListener("submit",(function(e){e.preventDefault(),g(q.value,b.value,a),q.value="",b.value="",E(l),C()})),function(e){Array.from(document.querySelectorAll(e.formSelector)).forEach((function(n){n.addEventListener("submit",(function(e){e.preventDefault()})),function(e,n){var o=Array.from(e.querySelectorAll(n.inputSelector));r(e,o,n),o.forEach((function(c){c.addEventListener("input",(function(){t(e,c),r(e,o,n)}))}))}(n,e)}))}(e)})();